# 快慢指针检测环

假设头指针到环起点距离为a，环起点到相遇点的距离为b，环的长度为r

## 证明快慢指针必定相遇

首先相遇点必定是在环内，如果不在环内慢指针怎么可能会被快指针追上。

假设快慢指针均在环内，且相距x（x < r）。每次迭代，快慢指针的距离会增加1，都某一时刻，x == r，即快慢指针距离刚好为环的长度，即相遇。

即快慢指针相遇可以用来证明链表有环。

## 证明相遇时慢指针还没绕环一圈

和相遇证明类似，当慢指针到达环起点时，假设与快指针相距x（x < r），经过r - x次迭代后快慢指针相遇，此时慢指针在环内移动不足r步，即还没绕环一圈。

## 证明慢指针再走a步会到达环起点

相遇时，慢指针行走距离

s = a + b

快指针行走距离

2s = a + b + nr

则

a = nr - b

慢指针再向前移动a

s + a = s + nr - b = s + (n - 1)r + (n - b)

所以慢指针再向前a步，就到达环起点。

也就是说，当快慢指针相遇时，慢指针从相遇点向前a步，而另起一个慢指针从头指针向前a，两个慢指针会相遇在环起点。
